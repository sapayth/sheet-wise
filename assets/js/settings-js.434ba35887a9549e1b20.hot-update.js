"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdatemy_react_plugin"]("settings-js",{

/***/ "./src/js/components/Settings.js":
/*!***************************************!*\
  !*** ./src/js/components/Settings.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Settings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ \"./node_modules/@wordpress/components/build-module/spinner/index.js\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/components */ \"./node_modules/@wordpress/components/build-module/card/card/component.js\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ \"./node_modules/@wordpress/components/build-module/card/card-body/component.js\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ \"./node_modules/@wordpress/i18n/build-module/index.js\");\n\n\n\n\nfunction Settings() {\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [credentialJson, setCredentialJson] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [errors, setErrors] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setIsLoading(true);\n    fetch(swiseSettings.restURL + '/settings', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-WP-Nonce': swiseSettings.nonce\n      }\n    }).then(response => response.json()).then(data => {\n      if (data.code === 200) {\n        setCredentialJson(data.credential);\n      }\n    }).catch(err => {\n      console.log(err.message);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }, []);\n  const isJsonString = str => {\n    try {\n      JSON.parse(str);\n    } catch (e) {\n      return false;\n    }\n    return true;\n  };\n  const saveSettings = async () => {\n    setErrors({});\n    setIsLoading(true);\n    if (!isJsonString(credentialJson)) {\n      setErrors({\n        credential: {\n          status: true,\n          message: 'Invalid credential JSON'\n        }\n      });\n      return;\n    }\n    const cred = JSON.parse(credentialJson.trim());\n    if (!cred || !cred.type || !cred.project_id || !cred.private_key_id || !cred.private_key || !cred.client_email || !cred.client_id || !cred.auth_uri || !cred.token_uri || !cred.auth_provider_x509_cert_url || !cred.client_x509_cert_url) {\n      setErrors({\n        credential: {\n          status: true,\n          message: 'One or more fields are missing in credential JSON'\n        }\n      });\n      return;\n    }\n    await fetch(swiseSettings.restURL + '/settings', {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-WP-Nonce': swiseSettings.nonce\n      },\n      body: JSON.stringify({\n        credentialJson: credentialJson\n      })\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      console.log(typeof data.code);\n      if (data.code === 200) {\n        setCredentialJson(data.credential);\n      }\n    }).catch(err => {\n      console.log(err.message);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  };\n  if (isLoading) {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\", {\n      className: \"swise-flex swise-justify-center swise-items-center swise-h-screen\"\n    }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null));\n  }\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Navigation, {\n    version: swiseSettings.version\n  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\", {\n    className: \"swise-border-b swise-border-gray-200 dark:swise-border-gray-700\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"ul\", {\n    className: \"swise-flex swise-flex-wrap swise--mb-px swise-text-sm swise-font-medium swise-text-gray-500 dark:swise-text-gray-400\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"li\", {\n    className: \"me-2\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"a\", {\n    href: \"#\",\n    className: \"swise-border-slate-600 swise-inline-flex swise-p-4 swise-border-b-2 swise-rounded-t-lg hover:swise-text-gray-600 hover:swise-border-gray-300 dark:hover:swise-text-gray-300 focus:swise-shadow-none\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"svg\", {\n    width: \"15\",\n    height: \"20\",\n    viewBox: \"0 0 74 100\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"mask\", {\n    id: \"mask0_1:52\",\n    maskUnits: \"userSpaceOnUse\",\n    x: \"1\",\n    y: \"1\",\n    width: \"71\",\n    height: \"98\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M45.398 1.43036H7.86688C4.22415 1.43036 1.24374 4.41077 1.24374 8.0535V91.9465C1.24374 95.5893 4.22415 98.5697 7.86688 98.5697H65.2674C68.9101 98.5697 71.8905 95.5893 71.8905 91.9465V27.9229L45.398 1.43036Z\",\n    fill: \"white\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"g\", {\n    mask: \"url(#mask0_1:52)\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M45.398 1.43036H7.86688C4.22415 1.43036 1.24374 4.41077 1.24374 8.0535V91.9465C1.24374 95.5893 4.22415 98.5697 7.86688 98.5697H65.2674C68.9101 98.5697 71.8905 95.5893 71.8905 91.9465V27.9229L56.4365 16.8843L45.398 1.43036Z\",\n    fill: \"#0F9D58\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"mask\", {\n    id: \"mask1_1:52\",\n    maskUnits: \"userSpaceOnUse\",\n    x: \"1\",\n    y: \"1\",\n    width: \"71\",\n    height: \"98\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M45.398 1.43036H7.86688C4.22415 1.43036 1.24374 4.41077 1.24374 8.0535V91.9465C1.24374 95.5893 4.22415 98.5697 7.86688 98.5697H65.2674C68.9101 98.5697 71.8905 95.5893 71.8905 91.9465V27.9229L45.398 1.43036Z\",\n    fill: \"white\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"g\", {\n    mask: \"url(#mask1_1:52)\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M18.9054 48.8962V80.908H54.2288V48.8962H18.9054ZM34.3594 76.4926H23.3209V70.9733H34.3594V76.4926ZM34.3594 67.6617H23.3209V62.1424H34.3594V67.6617ZM34.3594 58.8309H23.3209V53.3116H34.3594V58.8309ZM49.8134 76.4926H38.7748V70.9733H49.8134V76.4926ZM49.8134 67.6617H38.7748V62.1424H49.8134V67.6617ZM49.8134 58.8309H38.7748V53.3116H49.8134V58.8309Z\",\n    fill: \"#F1F1F1\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"mask\", {\n    id: \"mask2_1:52\",\n    maskUnits: \"userSpaceOnUse\",\n    x: \"1\",\n    y: \"1\",\n    width: \"71\",\n    height: \"98\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M45.398 1.43036H7.86688C4.22415 1.43036 1.24374 4.41077 1.24374 8.0535V91.9465C1.24374 95.5893 4.22415 98.5697 7.86688 98.5697H65.2674C68.9101 98.5697 71.8905 95.5893 71.8905 91.9465V27.9229L45.398 1.43036Z\",\n    fill: \"white\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"g\", {\n    mask: \"url(#mask2_1:52)\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M47.3352 25.9856L71.8905 50.5354V27.9229L47.3352 25.9856Z\",\n    fill: \"url(#paint0_linear_1:52)\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"mask\", {\n    id: \"mask3_1:52\",\n    maskUnits: \"userSpaceOnUse\",\n    x: \"1\",\n    y: \"1\",\n    width: \"71\",\n    height: \"98\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M45.398 1.43036H7.86688C4.22415 1.43036 1.24374 4.41077 1.24374 8.0535V91.9465C1.24374 95.5893 4.22415 98.5697 7.86688 98.5697H65.2674C68.9101 98.5697 71.8905 95.5893 71.8905 91.9465V27.9229L45.398 1.43036Z\",\n    fill: \"white\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"g\", {\n    mask: \"url(#mask3_1:52)\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M45.398 1.43036V21.2998C45.398 24.959 48.3618 27.9229 52.0211 27.9229H71.8905L45.398 1.43036Z\",\n    fill: \"#87CEAC\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"mask\", {\n    id: \"mask4_1:52\",\n    maskUnits: \"userSpaceOnUse\",\n    x: \"1\",\n    y: \"1\",\n    width: \"71\",\n    height: \"98\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M45.398 1.43036H7.86688C4.22415 1.43036 1.24374 4.41077 1.24374 8.0535V91.9465C1.24374 95.5893 4.22415 98.5697 7.86688 98.5697H65.2674C68.9101 98.5697 71.8905 95.5893 71.8905 91.9465V27.9229L45.398 1.43036Z\",\n    fill: \"white\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"g\", {\n    mask: \"url(#mask4_1:52)\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M7.86688 1.43036C4.22415 1.43036 1.24374 4.41077 1.24374 8.0535V8.60542C1.24374 4.9627 4.22415 1.98229 7.86688 1.98229H45.398V1.43036H7.86688Z\",\n    fill: \"white\",\n    fillOpacity: \"0.2\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"mask\", {\n    id: \"mask5_1:52\",\n    maskUnits: \"userSpaceOnUse\",\n    x: \"1\",\n    y: \"1\",\n    width: \"71\",\n    height: \"98\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M45.398 1.43036H7.86688C4.22415 1.43036 1.24374 4.41077 1.24374 8.0535V91.9465C1.24374 95.5893 4.22415 98.5697 7.86688 98.5697H65.2674C68.9101 98.5697 71.8905 95.5893 71.8905 91.9465V27.9229L45.398 1.43036Z\",\n    fill: \"white\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"g\", {\n    mask: \"url(#mask5_1:52)\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M65.2674 98.0177H7.86688C4.22415 98.0177 1.24374 95.0373 1.24374 91.3946V91.9465C1.24374 95.5893 4.22415 98.5697 7.86688 98.5697H65.2674C68.9101 98.5697 71.8905 95.5893 71.8905 91.9465V91.3946C71.8905 95.0373 68.9101 98.0177 65.2674 98.0177Z\",\n    fill: \"#263238\",\n    fillOpacity: \"0.2\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"mask\", {\n    id: \"mask6_1:52\",\n    maskUnits: \"userSpaceOnUse\",\n    x: \"1\",\n    y: \"1\",\n    width: \"71\",\n    height: \"98\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M45.398 1.43036H7.86688C4.22415 1.43036 1.24374 4.41077 1.24374 8.0535V91.9465C1.24374 95.5893 4.22415 98.5697 7.86688 98.5697H65.2674C68.9101 98.5697 71.8905 95.5893 71.8905 91.9465V27.9229L45.398 1.43036Z\",\n    fill: \"white\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"g\", {\n    mask: \"url(#mask6_1:52)\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M52.0211 27.9229C48.3618 27.9229 45.398 24.959 45.398 21.2998V21.8517C45.398 25.511 48.3618 28.4748 52.0211 28.4748H71.8905V27.9229H52.0211Z\",\n    fill: \"#263238\",\n    fillOpacity: \"0.1\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"path\", {\n    d: \"M45.398 1.43036H7.86688C4.22415 1.43036 1.24374 4.41077 1.24374 8.0535V91.9465C1.24374 95.5893 4.22415 98.5697 7.86688 98.5697H65.2674C68.9101 98.5697 71.8905 95.5893 71.8905 91.9465V27.9229L45.398 1.43036Z\",\n    fill: \"url(#paint1_radial_1:52)\"\n  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"defs\", null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"linearGradient\", {\n    id: \"paint0_linear_1:52\",\n    x1: \"59.6142\",\n    y1: \"28.0935\",\n    x2: \"59.6142\",\n    y2: \"50.5388\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"stop\", {\n    stopColor: \"#263238\",\n    stopOpacity: \"0.2\"\n  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#263238\",\n    stopOpacity: \"0.02\"\n  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"radialGradient\", {\n    id: \"paint1_radial_1:52\",\n    cx: \"0\",\n    cy: \"0\",\n    r: \"1\",\n    gradientUnits: \"userSpaceOnUse\",\n    gradientTransform: \"translate(3.48187 3.36121) scale(113.917)\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"stop\", {\n    stopColor: \"white\",\n    stopOpacity: \"0.1\"\n  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"stop\", {\n    offset: \"1\",\n    stopColor: \"white\",\n    stopOpacity: \"0\"\n  })))), \"\\xA0\\xA0 \", (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Google Sheet', 'swise'))))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\", null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"label\", {\n    htmlFor: \"swise-credential\",\n    className: \"swise-block swise-mb-2 swise-text-sm swise-font-medium swise-text-gray-900 dark:swise-text-white\"\n  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Service Account Credential JSON', 'swise')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"textarea\", {\n    id: \"swise-credential\",\n    onChange: e => {\n      setCredentialJson(e.target.value);\n    },\n    rows: \"10\",\n    value: credentialJson,\n    className: \"swise-block swise-p-2.5 swise-w-full swise-text-sm swise-text-gray-900 swise-bg-gray-50 swise-rounded-lg swise-border swise-border-gray-300 focus:swise-ring-slate-500 focus:swise-border-slate-500 dark:swise-bg-gray-700 dark:swise-border-gray-600 dark:swise-placeholder-gray-400 dark:swise-text-white dark:focus:swise-ring-slate-500 dark:focus:swise-border-slate-500\"\n  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\", {\n    className: \"swise-mt-1 swise-text-sm\"\n  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"p\", {\n    id: \"helper-text-explanation\",\n    className: \"swise-mt-2 swise-text-gray-500 dark:swise-text-gray-400\"\n  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Copy the full JSON file Credentials and paste it here. ', 'swise'), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"a\", {\n    href: \"#\",\n    className: \"swise-font-medium swise-text-blue-600 hover:swise-underline dark:swise-text-blue-500 focus:swise-shadow-none\"\n  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('How to?', 'swise'))), errors.credential && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"p\", {\n    className: \"swise-mt-2 swise-text-sm swise-text-red-600 dark:swise-text-red-500\"\n  }, errors.credential.message)), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"button\", {\n    type: \"button\",\n    onClick: saveSettings,\n    className: \"swise-mt-8 swise-text-white swise-bg-slate-700 hover:swise-bg-slate-800 swise-font-medium swise-rounded-lg swise-text-sm swise-px-5 swise-py-2.5 me-2 swise-mb-2 dark:swise-bg-slate-600 dark:hover:swise-bg-slate-700\"\n  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Save', 'swise'))))));\n}\n\n//# sourceURL=webpack://my-react-plugin/./src/js/components/Settings.js?");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("f40b6e8c7b97a333f4ef")
/******/ })();
/******/ 
/******/ }
);